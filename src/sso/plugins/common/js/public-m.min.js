/**
 * ZQDL执行脚本
 * author:gaoshiyong<gaoshiyong1272@vip.163.com>
 * jQuery版本必须在1.42以上
 */
var LANG=window.LANG||{};LANG.cn=window.LANG.cn||{};LANG.cn['loading']='加载中';LANG.cn['load_tips']='加载中，请稍后…';LANG.cn['inter_url']='请输入请求地址！';LANG.cn['char']='字符';LANG.cn['back_to_top']='返回顶部';LANG.cn['you_can_inter_char']='您可以输入@=@char@=@个字';LANG.cn['your_input_has_exceeded']='您的输入已经超过了@=@char@=@字';LANG.cn['upload_image_type_error']='上传文件格式有误，请重新上传！';LANG.cn['upload_image_time_out']='上传文件超时，请重试！';function OASGetLangVal(key){return LANG.cn[key]}eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('3(5 p!==\'w\'){p={}}(6(){\'1y 1z\';6 f(n){7 n<10?\'0\'+n:n}3(5 11.m.q!==\'6\'){11.m.q=6(){7 1e(o.W())?o.1L()+\'-\'+f(o.1I()+1)+\'-\'+f(o.1H())+\'T\'+f(o.1q())+\':\'+f(o.1D())+\':\'+f(o.1C())+\'Z\':x};J.m.q=1B.m.q=1A.m.q=6(){7 o.W()}}y e,A,8,C,N,l;6 L(b){A.1h=0;7 A.M(b)?\'"\'+b.G(A,6(a){y c=N[a];7 5 c===\'H\'?c:\'\\\\u\'+(\'17\'+a.18(0).O(16)).1c(-4)})+\'"\':\'"\'+b+\'"\'}6 z(a,b){y i,k,v,h,B=8,9,2=b[a];3(2&&5 2===\'w\'&&5 2.q===\'6\'){2=2.q(a)}3(5 l===\'6\'){2=l.I(b,a,2)}1x(5 2){E\'H\':7 L(2);E\'P\':7 1e(2)?J(2):\'x\';E\'1w\':E\'x\':7 J(2);E\'w\':3(!2){7\'x\'}8+=C;9=[];3(Q.m.O.1v(2)===\'[w 1u]\'){h=2.h;D(i=0;i<h;i+=1){9[i]=z(i,2)||\'x\'}v=9.h===0?\'[]\':8?\'[\\n\'+8+9.K(\',\\n\'+8)+\'\\n\'+B+\']\':\'[\'+9.K(\',\')+\']\';8=B;7 v}3(l&&5 l===\'w\'){h=l.h;D(i=0;i<h;i+=1){3(5 l[i]===\'H\'){k=l[i];v=z(k,2);3(v){9.1d(L(k)+(8?\': \':\':\')+v)}}}}U{D(k 1f 2){3(Q.m.1g.I(2,k)){v=z(k,2);3(v){9.1d(L(k)+(8?\': \':\':\')+v)}}}}v=9.h===0?\'{}\':8?\'{\\n\'+8+9.K(\',\\n\'+8)+\'\\n\'+B+\'}\':\'{\'+9.K(\',\')+\'}\';8=B;7 v}}3(5 p.V!==\'6\'){A=/[\\\\\\"\\1t-\\1s\\1F-\\1r\\1m\\1n-\\1o\\1p\\1l\\1k\\1j-\\1i\\1b-\\1a\\19-\\15\\Y\\X-\\12]/g;N={\'\\b\':\'\\\\b\',\'\\t\':\'\\\\t\',\'\\n\':\'\\\\n\',\'\\f\':\'\\\\f\',\'\\r\':\'\\\\r\',\'"\':\'\\\\"\',\'\\\\\':\'\\\\\\\\\'};p.V=6(a,b,c){y i;8=\'\';C=\'\';3(5 c===\'P\'){D(i=0;i<c;i+=1){C+=\' \'}}U 3(5 c===\'H\'){C=c}l=b;3(b&&5 b!==\'6\'&&(5 b!==\'w\'||5 b.h!==\'P\')){14 13 1E(\'p.V\');}7 z(\'\',{\'\':a})}}3(5 p.R!==\'6\'){e=/[\\1G\\1m\\1n-\\1o\\1p\\1l\\1k\\1j-\\1i\\1b-\\1a\\19-\\15\\Y\\X-\\12]/g;p.R=6(c,d){y j;6 S(a,b){y k,v,2=a[b];3(2&&5 2===\'w\'){D(k 1f 2){3(Q.m.1g.I(2,k)){v=S(2,k);3(v!==1J){2[k]=v}U{1K 2[k]}}}}7 d.I(a,b,2)}c=J(c);e.1h=0;3(e.M(c)){c=c.G(e,6(a){7\'\\\\u\'+(\'17\'+a.18(0).O(16)).1c(-4)})}3(/^[\\],:{}\\s]*$/.M(c.G(/\\\\(?:["\\\\\\/1M]|u[0-1N-1O-F]{4})/g,\'@\').G(/"[^"\\\\\\n\\r]*"|1P|1Q|x|-?\\d+(?:\\.\\d*)?(?:[1R][+\\-]?\\d+)?/g,\']\').G(/(?:^|:|,)(?:\\s*\\[)+/g,\'\'))){j=1S(\'(\'+c+\')\');7 5 d===\'6\'?S({\'\':j},\'\'):j}14 13 1T(\'p.R\');}}}());',62,118,'||value|if||typeof|function|return|gap|partial||||||||length||||rep|prototype||this|JSON|toJSON||||||object|null|var|str|escapable|mind|indent|for|case||replace|string|call|String|join|quote|test|meta|toString|number|Object|parse|walk||else|stringify|valueOf|ufff0|ufeff|||Date|uffff|new|throw|u206f||0000|charCodeAt|u2060|u202f|u2028|slice|push|isFinite|in|hasOwnProperty|lastIndex|u200f|u200c|u17b5|u17b4|u00ad|u0600|u0604|u070f|getUTCHours|x9f|x1f|x00|Array|apply|boolean|switch|use|strict|Boolean|Number|getUTCSeconds|getUTCMinutes|Error|x7f|u0000|getUTCDate|getUTCMonth|undefined|delete|getUTCFullYear|bfnrt|9a|fA|true|false|eE|eval|SyntaxError'.split('|'),0,{}));var ZQDL=window.ZQDL||{};ZQDL.LOG=ZQDL.log=function(){if(typeof(console)=="object"&&typeof(console.log)=="function")console.log.apply(console,arguments)};ZQDL.namespace=function(ns){if(!ns||!ns.length)return null;var levels=ns.split(".");var nsobj=ZQDL;for(var i=(levels[0]=="ZQDL")?1:0;i<levels.length;++i){nsobj[levels[i]]=nsobj[levels[i]]||{};nsobj=nsobj[levels[i]]}return nsobj};ZQDL.namespace('ZQDL.util');ZQDL.util.domain={domain:function(url){var durl=/http:\/\/([^\/]+)\//i;var hosts=url.match(durl);hosts=hosts[1];d_arr=hosts.split('.');hosts=d_arr[d_arr.length-2]+'.'+d_arr[d_arr.length-1];return hosts},domain_pre:function(url){var durl=/http:\/\/([^\/]+)\//i;var hosts=url.match(durl);hosts=hosts[1];d_arr=hosts.split('.');return d_arr[0]},domain_arr:function(url){var durl=/http:\/\/([^\/]+)\//i;var hosts=url.match(durl);hosts=hosts[1];d_arr=hosts.split('.');return d_arr},currentUrl:window.location.href};ZQDL.util.getUrlParam=function(key,str){var val=null;var tempStr=str==undefined?window.location.search.substring(1):str.split('?')[1];if(tempStr.length!=0){var arr=tempStr.split('&');var len=arr.length;for(i=0;i<len;i++){if(arr[i].split('=')[0]==key){val=arr[i].split('=')[1];break}}}return val};ZQDL.util.cnzzopen=true;ZQDL.util.cnzz=function(){if(!ZQDL.util.cnzzopen)return false;var cnzzobj=$('#cnzz_stat_icon_'+ZQDL.util.path['analytics']['cnzz']);if(0==cnzzobj.length)return;var cnzz_protocol=(("https:"==document.location.protocol)?" https://":" http://");var cnzz=document.createElement("script");cnzz.src=cnzz_protocol+"s4.cnzz.com/z_stat.php?id="+ZQDL.util.path['analytics']['cnzz'];cnzzobj.append(cnzz)};ZQDL.util.qqwpa=function(){var obj=$('body');if(0==obj.length)return;var cnzz_protocol=(("https:"==document.location.protocol)?" https://":" http://");var cnzz=document.createElement("script");cnzz.src=cnzz_protocol+"wpa.b.qq.com/cgi/wpa.php?key="+ZQDL.util.path['analytics']['qq']};ZQDL.util.baiduhm=function(){var obj=$('body');if(0==obj.length)return;var cnzz_protocol=(("https:"==document.location.protocol)?" https://":" http://");var cnzz=document.createElement("script");cnzz.src=cnzz_protocol+"hm.baidu.com/h.js%3F5"+ZQDL.util.path['analytics']['baidu'];obj.append(cnzz)};ZQDL.util.BizQQWPA=function(obj){try{}catch(e){ZQDL.LOG('无法加载QQ插件')}};if(ZQDL.util.getUrlParam('debug')==1){ZQDL.config.set('debug',true)}if(ZQDL.util.getUrlParam('closeecho')==1){ZQDL.config.set('debug',false)}ZQDL.util.ajax=function(options){if(!options.url){alert(OASGetLangVal('inter_url'));return}var definOpt={url:null,type:'post',dataType:'json',data:{},success:null,error:null,timeout:120000,cache:false};var opt=$.extend({},definOpt,options);opt.type=opt.type=='get'?'GET':'POST';var host=location.protocol+'//'+location.hostname;if(opt.url.indexOf(location.protocol)!=-1){var crossdomain=opt.url.substr(0,host.length)==host?false:true}else{var crossdomain=false}if(crossdomain){if(opt.data.jsonpCallback)opt.jsonpCallback=opt.data.jsonpCallback;opt.type='GET';opt.dataType="jsonp";opt.jsonp="callback"}$.ajax(opt)};ZQDL.util.browser=function(){if(ZQDL.util.getUrlParam('liulanqi')){var maxNum=ZQDL.util.getUrlParam('num')?parseInt(ZQDL.util.getUrlParam('num')):30;var i=0,str='';for(key in window.navigator){str+=key+"==>"+window.navigator[key]+"\n";if(i>maxNum)break;i++}alert(str)}};Date.prototype.Format=function(fmt){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(fmt))fmt=fmt.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length));for(var k in o)if(new RegExp("("+k+")").test(fmt))fmt=fmt.replace(RegExp.$1,(RegExp.$1.length==1)?(o[k]):(("00"+o[k]).substr((""+o[k]).length)));return fmt};ZQDL.util.holiday=function(options){var data={time:new Date().getTime()};var domain=ZQDL.util.domain.domain_arr(ZQDL.util.domain.currentUrl);var url=location.protocol+'//'+ZQDL.util.path['300cn']+'www.'+domain[1]+'.'+domain[2];if(domain[1]!='300'){url=location.protocol+'//www.bpis.com.cn'}var definOpt={url:url+'/holiday?is_ajax=1',crossDomain:true,type:'post',dataType:'jsonp',data:data,success:null,error:function(xhr,textStatus,errorThrow){ZQDL.LOG(errorThrow.message)}};var opt=$.extend({},definOpt,options);$.ajax(opt)};ZQDL.util.uuid={guid:function(g){var arr=new Array();if(typeof(g)=="string"){InitByString(arr,g)}else{InitByOther(arr)};this.Equals=function(o){if(o&&o.IsGuid){return this.ToString()==o.ToString()}else{return false}};this.IsGuid=function(){};this.ToString=function(format){if(typeof(format)=="string"){if(format=="N"||format=="D"||format=="B"||format=="P"){return ToStringWithFormat(arr,format)}else{return ToStringWithFormat(arr,"D")}}else{return ToStringWithFormat(arr,"D")}};function InitByString(arr,g){g=g.replace(/\{|\(|\)|\}|-/g,"");g=g.toLowerCase();if(g.length!=32||g.search(/[^0-9,a-f]/i)!=-1){InitByOther(arr)}else{for(var i=0;i<g.length;i++){arr.push(g.substring(i,i+1))}}};function InitByOther(arr){var i=32;while(i--){arr.push("0")}};function ToStringWithFormat(arr,format){switch(format){case"N":return arr.toString().replace(/,/g,"");case"D":var str=arr.slice(0,8)+"-"+arr.slice(8,12)+"-"+arr.slice(12,16)+"-"+arr.slice(16,20)+"-"+arr.slice(20,32);str=str.replace(/,/g,"");return str;case"B":var str=ToStringWithFormat(arr,"D");str="{"+str+"}";return str;case"P":var str=ToStringWithFormat(arr,"D");str="("+str+")";return str;default:return new ZQDL.util.uuid.guid()}}},get:function(){ZQDL.util.uuid.guid.Empty=new ZQDL.util.uuid.guid();var g="";var i=32;while(i--){g+=Math.floor(Math.random()*16.0).toString(16)}uObject=new ZQDL.util.uuid.guid(g);return uObject.ToString('-')}};ZQDL.util.verify=function(obj){var $this=$(obj);var inputname=$this.attr('name');var objVerifyImg=$this.parents('div').find('.verify_image');if(inputname=='verify'){if(objVerifyImg.attr('data-act')!='1'){objVerifyImg.attr('src','/verify/verify?date='+new Date())}}else{objVerifyImg.attr('src','/verify/verify?date='+new Date())}var objVerify=$('.verify_image');for(var i=0;i<objVerify.length;i++){var obj=$(objVerify[i]);obj.attr('data-act',0)}objVerifyImg.attr('data-act',1)};ZQDL.namespace('ZQDL.cookie');ZQDL.cookie.get=function(key,options){options=options||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;return(result=new RegExp('(?:^|; )'+encodeURIComponent(key)+'=([^;]*)').exec(document.cookie))?decode(result[1]):null};ZQDL.cookie.remove=function(key,options){ZQDL.cookie.set(key,null,options?options:{})};ZQDL.cookie.set=function(key,value,options){options=$.extend({},{domain:'',path:'/'},options);if(value===null){options.expires=-1}if(typeof options.expires==='number'){var seconds=options.expires,t=options.expires=new Date();t.setTime(t.getTime()+seconds*1000)}value=''+value;return(document.cookie=[encodeURIComponent(key),'=',options.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''))};ZQDL.namespace('ZQDL.apps');ZQDL.apps.sso={getMemberId:function(){var uid=ZQDL.cookie.get('300cn_user');if(uid==null)uid='';return uid},login:function(){var domain=ZQDL.util.domain.domain_arr(ZQDL.util.domain.currentUrl);var post={'is_ajax':1};var url=location.protocol+'//'+ZQDL.util.path['300cn']+'www.'+domain[1]+'.'+domain[2];if(domain[1]!='300'){url=location.protocol+'//www.bpis.com.cn'}$.ajax({url:url+'/sso/login',crossDomain:true,type:'post',dataType:'jsonp',data:post,success:function(info){if(info.status=='1'){var userTmp=info.info;$("#home_login").hide();$("#home_reg").hide();$("#member").show();$("#userinfo").html(userTmp).show();$(".home_out_line").show();$("#home_out").show()}else{$(".home_out_line").hide();$("#home_out").hide();$("#userinfo").hide();$("#member").hide();$("#home_login").show();$("#home_reg").show()}},error:function(xhr,textStatus,errorThrow){ZQDL.LOG(errorThrow.message)}})}};ZQDL.apps.visitSessionId='';ZQDL.apps.vistCount={origin:ZQDL.cookie.get('vt_origin'),originUrl:ZQDL.cookie.get('vt_origin_url'),landUrl:ZQDL.cookie.get('vt_url'),channel:'',countUrl:'',event:{form:'form',bd_zixun:'zixun-baidu',qq_zixun:'zixun-qq',reg:'reg',baidu_call:'baidu_call'},formSubmit:function(obj){var form=$(obj).parents('form');var mobile=form.find("input[name=mobile]").val();var logId=form.find("input[name=log_id]").val();var eventType=form.find("input[name=eventType]").val();if(eventType==''||typeof(eventType)=='undefined')eventType=ZQDL.apps.vistCount.event.form;try{VisitTrack.visittrack_event(ZQDL.apps.vistCount.countUrl,ZQDL.apps.sso.getMemberId(),ZQDL.apps.vistCount.event.form,mobile,logId,'finished')}catch(e){ZQDL.LOG('表单提交统计失败：统计文件未加载')}},zixunClick:function(obj){var zixunType=$(obj).attr('zixun');var event=ZQDL.apps.vistCount.event.bd_zixun;if(zixunType=='qq')event=ZQDL.apps.vistCount.event.qq_zixun;try{VisitTrack.visittrack_event(ZQDL.apps.vistCount.countUrl,ZQDL.apps.sso.getMemberId(),event,'',ZQDL.util.uuid.get(),'finished')}catch(e){ZQDL.LOG('咨询统计失败：统计文件未加载')}},visitCount:function(obj){var val=$(obj).attr('value');var act=($(obj).attr('count_type')==''||$(obj).attr('count_type')=='undefined')?'finished':$(obj).attr('count_type');try{VisitTrack.visittrack_event(ZQDL.apps.vistCount.countUrl,ZQDL.apps.sso.getMemberId(),val,'',ZQDL.util.uuid.get(),act);return false}catch(e){ZQDL.LOG('生成埋点数据日志失败')}},baiduCallClick:function(obj){var parentObj=$(obj).parents('div.callback');var mobileObj=parentObj.find("input[name=mobile]");var mobile=mobileObj.val();if(!ZQDL.apps.validate.mobile(mobile)&&!ZQDL.apps.validate.phone(mobile)){ZQDL.apps.oTools.alertmess('手机号为空或手机格式不正确');return false}var event=ZQDL.apps.vistCount.event.baidu_call;try{lxb.call(mobile);VisitTrack.visittrack_event(ZQDL.apps.vistCount.countUrl,ZQDL.apps.sso.getMemberId(),event,mobile,ZQDL.util.uuid.get(),'finished')}catch(e){ZQDL.LOG('咨询统计失败：统计文件未加载')}return false},reg:function(){},initChannel:function(){var origin=ZQDL.apps.vistCount.origin;ZQDL.apps.vistCount.channel='';if(origin==''){return}var strs=new Array();strs=origin.split("_");if(strs.length<3)return;ZQDL.apps.vistCount.channel=strs[2]},initForm:function(){var formObj=$('.log_id');for(var i=0;i<formObj.length;i++){var log=$(formObj[i]);log.val(ZQDL.util.uuid.get())}formObj=$('.channelSlug');ZQDL.apps.vistCount.initChannel();for(var i=0;i<formObj.length;i++){var log=$(formObj[i]);log.val(ZQDL.apps.vistCount.channel)}formObj=$('.formSlug');for(var i=0;i<formObj.length;i++){var log=$(formObj[i]);log.val(ZQDL.apps.vistCount.origin)}formObj=$('.landUrl');for(var i=0;i<formObj.length;i++){var log=$(formObj[i]);log.val(ZQDL.apps.vistCount.landUrl)}formObj=$('.sourceUrl');for(var i=0;i<formObj.length;i++){var log=$(formObj[i]);log.val(ZQDL.apps.vistCount.originUrl)}}};ZQDL.apps.vistCount.initForm();ZQDL.apps.vistCount.countUrl = visittrack_url;ZQDL.apps.validate={mobile:function(str){var mobile=/^0?(13|15|17|18|14)[0-9]{9}$/;return mobile.test(str)},phone:function(str){var phone=/^0\d{2,3}\d{7,8}$/;return phone.test(str)}};ZQDL.apps.toolbar={init:function(){var domain=ZQDL.util.domain.domain_arr(ZQDL.util.domain.currentUrl);var post={'is_ajax':1};var url=location.protocol+'//'+ZQDL.util.path['300cn']+'www.'+domain[1]+'.'+domain[2];$.ajax({url:url+'/index/imnotice',crossDomain:true,type:'post',dataType:'jsonp',data:post,success:function(data){var obj=$("#noticebar");var urls=$("#imnotice");if(data.imnotice.status){urls.attr({href:data.imnotice.url});obj.show()}else{obj.hide()}if(data.active.status){var html='<a href="'+data.active.url+'">'+data.active.title+'</a>';$("#topActive").html(html)}},error:function(xhr,textStatus,errorThrow){ZQDL.LOG(errorThrow.message)}})},};ZQDL.apps.oTools={alertmess:function(str){var html='<div class="mess">'+str+'</div>',fullW=$(window).width(),fullH=$(window).height(),twidth=320||parseInt(fullW*0.8);if($('.mess').size()<1){$('body').append(html);$('.mess').css({'width':twidth,'min-height':'30px','line-height':'30px','font-size':'16px','marginLeft':parseInt(-twidth/2-10),'background':'#000','color':'#fff','z-index':99999,'position':'fixed','left':'50%','top':'40%','border-radius':'5px','text-align':'center','padding':'5px 10px'}).fadeIn();setTimeout(function(){$('.mess').fadeOut(function(){$('.mess').remove()})},2000)}},contactToggle:function(obj){var t=$(obj);if(t.hasClass("off")){t.addClass("on").removeClass("off");$("html,body").find(".toggle").animate({"bottom":"-180px"})}else{t.addClass("off").removeClass("on");$("html,body").find(".toggle").animate({"bottom":"0"})}}};